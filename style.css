/* ========= Thème clair compact ========= */
:root{
  --bg:#f5f6fa;        /* fond général */
  --panel:#ffffff;     /* fond carte */
  --ink:#1c1c1c;       /* texte principal */
  --muted:#60646c;     /* texte secondaire */
  --border:#e3e6eb;    /* bordures */
  --accent:#0a66c2;    /* bouton / focus */
  --ring:rgba(10,102,194,.22);
  --radius:10px;       /* angles un peu plus vifs */
  --gap:14px;          /* grille un poil plus serrée */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font:500 15px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* ========= Barre du haut / En‑tête / Recherche ========= */
.topbar{padding:10px max(16px,4vw);background:#fff;border-bottom:1px solid var(--border)}
.topbar select{
  appearance:none;background:#fff;color:var(--ink);
  border:1px solid var(--border);border-radius:8px;padding:6px 28px 6px 10px;font-size:14px
}
.topbar select:focus{box-shadow:0 0 0 3px var(--ring);border-color:var(--accent)}
.page-header{padding:12px max(16px,4vw) 0}
.page-header h1{margin:0 0 4px;font-size:clamp(20px,3vw,28px)}
.page-header p{margin:0;color:var(--muted);font-size:14px}
.container{padding:12px max(16px,4vw) 28px}
#search{
  width:100%;margin-bottom:14px;padding:8px 12px;font-size:14px;
  border:1px solid var(--border);border-radius:8px;background:#fff;color:var(--ink)
}
#search:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--ring)}

/* ========= Grille ========= */
.cards-grid{
  display:grid;gap:var(--gap);
  grid-template-columns:repeat(3, 1fr);      /* 3 colonnes desktop */
  max-width:1400px;margin:0 auto;
}
@media (max-width:1024px){ .cards-grid{ grid-template-columns:repeat(2, 1fr) } }
@media (max-width:600px){  .cards-grid{ grid-template-columns:1fr } }

/* ========= Carte (compacte, sans scroll interne) ========= */
.cards-grid > *{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:12px;

  display:flex;flex-direction:column;gap:8px;

  aspect-ratio:5/4;     /* plus haut que 4/3 pour cas chargés */
  min-height:0;
  overflow:visible;      /* on évite le scroll interne */
}

/* ========= Titre (compact, max 2 lignes) ========= */
.cards-grid h1,.cards-grid h2,.cards-grid h3{
  margin:0;
  font-size:14px;
  line-height:1.2;
  font-weight:650;
  color:var(--ink);
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
  flex-shrink:0;
}

/* ========= Zone infos (grille 2 colonnes, compacte) ========= */
.cards-grid .infos,.cards-grid .meta,.cards-grid .details{
  display:grid;grid-template-columns:1fr 1fr;gap:4px;
  /* pas de overflow ici -> tout visible */
}

/* Blocs d’infos (p, li, .meta > *) compacts */
.cards-grid p,
.cards-grid .infos > *, .cards-grid .meta > *, .cards-grid .details > *,
.cards-grid ul > li, .cards-grid ol > li, .cards-grid dl > *{
  margin:0;background:#f7f8fb;border:1px solid var(--border);
  border-radius:6px;padding:6px;list-style:none;
  font-size:12px;line-height:1.2;white-space:normal;word-break:break-word;
  display:flex;flex-direction:column;gap:3px;color:var(--ink);
}

/* Labels / valeurs encore plus serrés */
.cards-grid .k, .cards-grid p strong:first-child{
  font-size:10px;color:var(--muted);font-weight:600;line-height:1.1;
}
.cards-grid .v{font-weight:600;line-height:1.2}

/* ========= Bouton (compact) ========= */
.cards-grid a:last-of-type{
  margin-top:auto;align-self:flex-end;
  padding:6px 10px;border-radius:6px;font-size:13px;
  background:var(--accent);color:#fff;text-decoration:none;font-weight:600;border:0
}
.cards-grid a:last-of-type:focus{outline:3px solid var(--ring)}

/* ========= Petits raffinements perf ========= */
@supports (content-visibility: auto){
  .cards-grid > *{ content-visibility:auto; contain-intrinsic-size: 320px 260px; }
}
.cards-grid > *{ contain: layout paint; }