/* ========= Thème clair ========= */
:root{
  --bg:#f5f6fa;      /* fond général */
  --panel:#ffffff;   /* fond cartes/panneaux */
  --ink:#1c1c1c;     /* texte principal */
  --muted:#60646c;   /* texte secondaire */
  --border:#e3e6eb;  /* bordures */
  --accent:#0a66c2;  /* bouton / focus */
  --ring:rgba(10,102,194,.22);
  --radius:12px;
  --gap:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:500 16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* ========= Barre du haut ========= */
.topbar{
  padding:12px max(16px,4vw);
  background:#fff;
  border-bottom:1px solid var(--border);
}
.topbar select{
  appearance:none;-webkit-appearance:none;
  background:#fff;color:var(--ink);
  border:1px solid var(--border);border-radius:8px;
  padding:8px 32px 8px 10px;
}
.topbar select:focus{box-shadow:0 0 0 3px var(--ring);border-color:var(--accent)}

/* ========= En‑tête ========= */
.page-header{padding:16px max(16px,4vw) 0}
.page-header h1{margin:0 0 6px;font-size:clamp(22px,3.2vw,30px)}
.page-header p{margin:0;color:var(--muted)}

/* ========= Conteneur & recherche ========= */
.container{padding:16px max(16px,4vw) 32px}
#search{
  width:100%;margin-bottom:16px;padding:10px 14px;
  border:1px solid var(--border);border-radius:8px;background:#fff;color:var(--ink);
}
#search:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--ring)}

/* ========= Grille de cartes ========= */
.cards-grid{
  display:grid;gap:var(--gap);
  grid-template-columns:repeat(3, 1fr);
  max-width:1400px;margin:0 auto;
}
@media (max-width:1024px){ .cards-grid{ grid-template-columns:repeat(2, 1fr) } }
@media (max-width:600px){  .cards-grid{ grid-template-columns:1fr } }

/* ========= Carte ========= */
.cards-grid > *{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;

  display:flex;flex-direction:column;gap:10px;

  aspect-ratio:5/4;      /* rectangles confortables */
  min-height:0;
  overflow:visible;       /* pas de scroll interne */

  transition:box-shadow .18s ease, transform .18s ease, border-color .18s ease;
  cursor:pointer;         /* carte cliquable */
}
.cards-grid > *:hover{
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  border-color:#d7dbe2;
  transform:translateY(-1px);
}

/* ========= Titre (2 lignes max) ========= */
.cards-grid h1,.cards-grid h2,.cards-grid h3{
  margin:0;font-size:15px;line-height:1.25;font-weight:650;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
  flex-shrink:0;
}

/* ========= Zone infos (cases) ========= */
.cards-grid .infos{
  display:grid;grid-template-columns:1fr 1fr;gap:6px;
}
.cards-grid .infos p{
  margin:0;background:#f7f8fb;border:1px solid var(--border);
  border-radius:8px;padding:8px;display:flex;flex-direction:column;gap:4px;
  font-size:13px;line-height:1.25;color:var(--ink);
}
.cards-grid .k{font-size:11px;color:var(--muted);font-weight:600}
.cards-grid .v{font-weight:600}

/* ========= Mini‑résumé IA (sous Date & État) ========= */
.excerpt{
  margin:6px 0 0;
  font-size:12px;
  line-height:1.3;
  color:var(--muted);
  background:#f7f8fb;
  border:1px solid var(--border);
  border-radius:8px;
  padding:6px 8px;
  white-space:normal;word-break:break-word;
}

/* ========= Bouton centré ========= */
.cards-grid a.btn-detail{
  display:inline-block;
  margin-top:auto;
  align-self:center;            /* centrage horizontal */
  text-align:center;

  padding:8px 12px;border-radius:8px;
  background:var(--accent);color:#fff;text-decoration:none;font-weight:700;border:0;
}
.cards-grid a.btn-detail:focus{outline:3px solid var(--ring)}

/* ========= Petits bonus perf ========= */
@supports (content-visibility: auto){
  .cards-grid > *{ content-visibility:auto; contain-intrinsic-size: 320px 260px; }
}
.cards-grid > *{ contain: layout paint; }

/* ========= Accessibilité préférences mouvement ========= */
@media (prefers-reduced-motion: reduce){
  .cards-grid > *{ transition:none; transform:none; box-shadow:none; }
}